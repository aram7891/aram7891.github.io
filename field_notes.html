<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Field Notes | Self Love Club Research & Strategy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&family=Playfair+Display:ital,wght@0,700;1,400&display=swap" rel="stylesheet">
    <style>
        body { background-color: #FAFAFA; color: #1A1A1A; font-family: 'Inter', sans-serif; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .essay-card { border: 1px solid #E4E4E7; transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1); cursor: pointer; background: white; }
        .essay-card:hover, .essay-card:focus { border-color: #96683E; transform: translateY(-6px) rotate(-0.5deg); box-shadow: 0 20px 40px -15px rgba(0,0,0,0.05); outline: none; }
        .view-content { transition: opacity 0.5s ease-in-out, transform 0.5s ease-out; }
        .hidden-view { display: none; opacity: 0; transform: translateY(15px); }
        .visible-view { display: block; opacity: 1; transform: translateY(0); }
        .prose-content { line-height: 1.8; font-size: 1.15rem; color: #2d2d2d; max-width: 65ch; margin: 0 auto; }
        .prose-content h2 { font-family: 'Playfair Display', serif; font-size: 2.5rem; margin-top: 4rem; margin-bottom: 2rem; font-weight: 700; color: #1A1A1A; }
        .prose-content p { margin-bottom: 1.8rem; }
        .lang-active { color: #1A1A1A !important; border-bottom: 2px solid #1A1A1A; }
        @media print {
            nav, .no-print, #essays-header, .essay-card { display: none !important; }
            body { background: white !important; }
            .view-content { display: block !important; opacity: 1 !important; transform: none !important; }
            #view-reader { display: block !important; }
        }
    </style>
</head>
<body class="antialiased selection:bg-amber-100">

    <nav class="fixed top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-divider px-6 py-6 no-print">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <a href="index.html" class="font-serif text-xl tracking-tighter">Andrés Ramírez</a>
            <span class="text-[9px] font-bold uppercase tracking-[0.5em] text-amber-800">Self Love Club Repository</span>
        </div>
    </nav>

    <main id="view-index" class="view-content visible-view pt-40 pb-32 px-6">
        <div class="max-w-7xl mx-auto">
            <header id="essays-header" class="text-center mb-32 no-print">
                <span class="text-[10px] font-bold uppercase tracking-[0.8em] text-amber-800 mb-6 block">Editorial Framework</span>
                <h1 class="font-serif text-7xl md:text-9xl mb-10 tracking-tighter">Field Notes</h1>
                <div class="flex justify-center space-x-10 text-[10px] font-bold tracking-widest uppercase mb-12">
                    <button onclick="setLanguage('es')" id="btn-es" class="lang-active pb-2">Español</button>
                    <button onclick="setLanguage('en')" id="btn-en" class="pb-2 text-zinc-400 hover:text-black">English</button>
                </div>
            </header>
            <div id="essays-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </div>
    </main>

    <main id="view-reader" class="view-content hidden-view pt-40 pb-32 px-6">
        <div class="max-w-4xl mx-auto">
            <div class="flex justify-between items-center mb-12 no-print">
                <button onclick="closeReader()" id="reader-back" class="text-[10px] font-bold uppercase tracking-[0.5em] text-zinc-400 hover:text-black">← Volver</button>
                <button onclick="window.print()" id="reader-print" class="text-[10px] font-bold uppercase tracking-[0.3em] border border-black px-8 py-3 hover:bg-black hover:text-white transition-all">Exportar PDF</button>
            </div>
            <article id="reader-content" class="prose-content"></article>
        </div>
    </main>

    <script>
        // Traducciones para elementos de la interfaz (Labels)
        const uiTranslations = {
            es: { back: "← Volver", print: "Exportar PDF" },
            en: { back: "← Back", print: "Export PDF" }
        };

        const essays = [
            { id: 1, tag: "Vol. 01", title_es: "El Autoconocimiento como Activo Económico", title_en: "Self-Knowledge as an Economic Asset", date: "2023", extract_es: "Ventaja competitiva cuantificable.", extract_en: "Quantifiable competitive advantage.", content_es: "<h2>La Crisis de los Costos Ocultos</h2><p>Las organizaciones invierten frecuentemente millones en tecnología mientras descuidan su sistema operativo más crítico: la psicología humana.</p>", content_en: "<h2>The Hidden Cost Crisis</h2><p>Organizations invest millions in tech but neglect their most critical OS.</p>" },
            { id: 4, tag: "Vol. 04", title_es: "La Arquitectura del Silencio", title_en: "The Architecture of Silence", date: "2023", extract_es: "Cuando nada se comunica, la realidad se deforma.", extract_en: "When nothing is communicated, reality becomes distorted.", content_es: "<p>El silencio permite que la mente humana expanda lo desconocido.</p>", content_en: "<p>Silence allows the human mind to expand the unknown.</p>" }
            // ... (resto de ensayos)
        ];

        let lang = 'es';

        function renderGrid() {
            const grid = document.getElementById('essays-grid');
            if (!grid) return;
            grid.innerHTML = '';
            essays.forEach(e => {
                const card = document.createElement('div');
                card.className = 'essay-card p-10 h-80 flex flex-col justify-between';
                card.tabIndex = 0;
                card.role = "button";
                card.setAttribute('aria-label', lang === 'es' ? `Leer nota: ${e.title_es}` : `Read note: ${e.title_en}`);
                card.onclick = () => openReader(e.id);
                card.onkeydown = (event) => { if (event.key === 'Enter' || event.key === ' ') { event.preventDefault(); openReader(e.id); } };
                card.innerHTML = `<div><div class="flex justify-between items-center mb-6"><span class="text-[10px] font-bold uppercase tracking-widest text-zinc-400">${e.tag}</span><span class="text-[9px] font-medium text-zinc-300 uppercase">${e.date}</span></div><h3 class="font-serif text-3xl leading-tight mb-4">${lang === 'es' ? e.title_es : e.title_en}</h3><p class="text-[11px] text-zinc-500 italic line-clamp-2">${lang === 'es' ? e.extract_es : e.extract_en}</p></div><div class="flex items-center gap-3"><span class="w-6 h-[1px] bg-amber-800"></span><span class="text-[9px] font-bold uppercase tracking-[0.4em] text-amber-800">${lang === 'es' ? 'Leer Nota' : 'Read Note'}</span></div>`;
                grid.appendChild(card);
            });
        }

        function openReader(id) {
            const e = essays.find(i => i.id === id);
            
            // BLINDAJE DE SEGURIDAD (CodeRabbit suggestion)
            if (!e) {
                console.warn(`[Self Love Club] Essay ID ${id} not found.`);
                return;
            }

            const index = document.getElementById('view-index');
            const reader = document.getElementById('view-reader');
            const content = document.getElementById('reader-content');

            index.classList.add('hidden-view');
            setTimeout(() => {
                index.style.display = 'none';
                content.innerHTML = `<header class="text-center mb-24"><span class="text-[11px] font-bold uppercase tracking-[0.6em] text-amber-800 mb-6 block">${e.tag} — ${e.date}</span><h1 class="font-serif text-6xl md:text-8xl mb-10 leading-none tracking-tighter">${lang === 'es' ? e.title_es : e.title_en}</h1><p class="text-zinc-500 text-lg italic max-w-2xl mx-auto">${lang === 'es' ? e.extract_es : e.extract_en}</p></header><div class="prose-body">${lang === 'es' ? e.content_es : e.content_en}</div>`;
                reader.style.display = 'block';
                setTimeout(() => { reader.classList.remove('hidden-view'); reader.classList.add('visible-view'); window.scrollTo(0,0); }, 50);
            }, 500);
        }

        function closeReader() {
            const index = document.getElementById('view-index');
            const reader = document.getElementById('view-reader');
            reader.classList.remove('visible-view'); reader.classList.add('hidden-view');
            setTimeout(() => { reader.style.display = 'none'; index.style.display = 'block'; setTimeout(() => { index.classList.remove('hidden-view'); index.classList.add('visible-view'); window.scrollTo(0,0); }, 50); }, 500);
        }

        function setLanguage(l) { 
            lang = l; 
            document.documentElement.lang = l;
            
            // ACTUALIZACIÓN DE INTERFAZ (CodeRabbit suggestion)
            document.getElementById('reader-back').innerText = uiTranslations[l].back;
            document.getElementById('reader-print').innerText = uiTranslations[l].print;

            document.getElementById('btn-es').className = lang === 'es' ? 'lang-active pb-2' : 'pb-2 text-zinc-400 hover:text-black'; 
            document.getElementById('btn-en').className = lang === 'en' ? 'lang-active pb-2' : 'pb-2 text-zinc-400 hover:text-black'; 
            renderGrid(); 
        }

        renderGrid();
    </script>
</body>
</html>